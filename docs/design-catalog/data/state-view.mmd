```mermaid
stateDiagram-v2
    direction TB

    [*] --> NoSession

    NoSession --> Loading: User selects session
    Loading --> Rendering: Session file loaded
    Loading --> Error: File read failed
    Rendering --> Ready: HTML generated
    Rendering --> Error: Template failed
    Ready --> Loading: User selects different session
    Ready --> Scrolling: User scrolls
    Scrolling --> Ready: Scroll stops
    Error --> NoSession: User dismisses error
    Error --> Loading: User retries

    note right of NoSession
        selectedSession: null
        scrollPos: 0
        htmlContent: ""
    end note

    note right of Loading
        selectedSession: "session-123"
        scrollPos: 0
        htmlContent: ""
    end note

    note right of Rendering
        selectedSession: "session-123"
        scrollPos: 0
        htmlContent: "generating..."
    end note

    note right of Ready
        selectedSession: "session-123"
        scrollPos: 0
        htmlContent: "<html>...</html>"
    end note

    note right of Scrolling
        selectedSession: "session-123"
        scrollPos: 1500
        htmlContent: "<html>...</html>"
    end note

    note right of Error
        selectedSession: "session-123" | null
        scrollPos: 0
        error: "File not found"
    end note
```

## State Chart: View State

### States

| State | Description | Data |
|-------|-------------|------|
| **NoSession** | No session selected | selectedSession: null |
| **Loading** | Reading session file | selectedSession: "session-123" |
| **Rendering** | Generating HTML | selectedSession: "session-123" |
| **Ready** | Session displayed | selectedSession: "session-123", htmlContent: "..." |
| **Scrolling** | User scrolling | selectedSession: "session-123", scrollPos: 1500 |
| **Error** | Failed to render | error: message |

### Transitions

| From | To | Trigger | Action |
|------|-----|---------|--------|
| NoSession | Loading | User selects session | Set selectedSession, read file |
| Loading | Rendering | Session file loaded | Parse entries, load templates |
| Loading | Error | File read failed | Store error |
| Rendering | Ready | HTML generated | Display in iframe/webview |
| Rendering | Error | Template failed | Store error |
| Ready | Loading | User selects different session | Change selectedSession |
| Ready | Scrolling | User scrolls | Update scrollPos |
| Scrolling | Ready | Scroll stops | Keep scrollPos |
| Error | NoSession | User dismisses error | Clear selectedSession |
| Error | Loading | User retries | Retry file read |

### Data Changes per Transition

```
NoSession → Loading:
  selectedSession: null → "session-123"
  scrollPos: 0 → 0
  htmlContent: "" → ""

Loading → Rendering:
  selectedSession: "session-123" (unchanged)
  scrollPos: 0 → 0
  htmlContent: "" → "generating..."

Rendering → Ready:
  selectedSession: "session-123" (unchanged)
  scrollPos: 0 → 0
  htmlContent: "generating..." → "<html>...</html>"

Ready → Scrolling:
  selectedSession: "session-123" (unchanged)
  scrollPos: 0 → 1500
  htmlContent: "<html>...</html>" (unchanged)
```