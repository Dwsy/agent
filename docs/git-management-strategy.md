# Git ç®¡ç†ç­–ç•¥åˆ†æ

## ğŸ“Š ç›®å½•ç»“æ„åˆ†æ

### å¤§æ–‡ä»¶/ä¸´æ—¶ç›®å½•ï¼ˆä¸åº”çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼‰
- **sessions/** - 72MB
  - åŒ…å«å¤§é‡ JSONL session è®°å½•
  - å•ä¸ªæ–‡ä»¶æœ€å¤§ 5.3MB
  - åŠ¨æ€ç”Ÿæˆï¼Œæ¯æ¬¡å¯¹è¯éƒ½ä¼šæ–°å¢
  - ä¸å½±å“ä»£ç åŠŸèƒ½

### ä¸­ç­‰ä¸´æ—¶æ–‡ä»¶ï¼ˆä¸åº”çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼‰
- **cache/** - 72KB
- **.ace-tool/** - 36KB
- **.ralph-state/** - 12KB
- **pi-session-*.html** - 284KB
- **pi-crash.log** - 10KB
- **pi-debug.log** - 11KB

### æ•æ„Ÿæ–‡ä»¶ï¼ˆç»å¯¹ä¸åº”çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼‰
- **auth.json** - åŒ…å«è®¤è¯ä¿¡æ¯

## âœ… åº”çº³å…¥ç‰ˆæœ¬æ§åˆ¶çš„é‡è¦æ–‡ä»¶

### æ ¸å¿ƒä»£ç 
- **skills/** - æŠ€èƒ½å®šä¹‰å’Œæ–‡æ¡£
- **agents/** - ä»£ç†é…ç½®
- **commands/** - å‘½ä»¤å®šä¹‰
- **extensions/** - æ‰©å±•åŠŸèƒ½
- **plugin/** - æ’ä»¶ä»£ç ï¼ˆä»…æºç ï¼Œä¸å«è¿è¡Œæ—¶æ•°æ®ï¼‰

### æ–‡æ¡£
- **docs/** - å®Œæ•´æ–‡æ¡£ç›®å½•
- **README.md** - é¡¹ç›®è¯´æ˜
- **SYSTEM.md** - ç³»ç»Ÿæ–‡æ¡£
- **VERSIONS.md** - ç‰ˆæœ¬å†å²
- **subagent.md** - å­ä»£ç†æ–‡æ¡£

### é…ç½®æ–‡ä»¶
- **models.json** - æ¨¡å‹é…ç½®
- **settings.json** - ç³»ç»Ÿè®¾ç½®
- **subagent-config.md** - å­ä»£ç†é…ç½®
- **switch-system.sh** - ç³»ç»Ÿåˆ‡æ¢è„šæœ¬
- **verify-subagent.sh** - éªŒè¯è„šæœ¬

## ğŸ¯ .gitignore é…ç½®ç­–ç•¥

### 1. Session è®°å½•
```
sessions/
pi-session-*.html
```
**åŸå› **ï¼šsessions ç›®å½•åŒ…å« 72MB çš„å¯¹è¯è®°å½•ï¼Œæ¯æ¬¡å¯¹è¯éƒ½ä¼šæ–°å¢æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¸å½±å“ä»£ç åŠŸèƒ½ï¼Œä¸”ä¼šæ€¥å‰§å¢åŠ ä»“åº“å¤§å°ã€‚

### 2. ç¼“å­˜ç›®å½•
```
cache/
.ace-tool/
.ralph-state/
```
**åŸå› **ï¼šè¿™äº›æ˜¯è¿è¡Œæ—¶ç¼“å­˜ï¼Œä¸åº”çº³å…¥ç‰ˆæœ¬æ§åˆ¶ã€‚

### 3. æ—¥å¿—æ–‡ä»¶
```
*.log
pi-crash.log
pi-debug.log
```
**åŸå› **ï¼šæ—¥å¿—æ–‡ä»¶ä¼šä¸æ–­å¢é•¿ï¼Œä¸”åŒ…å«è¿è¡Œæ—¶ä¿¡æ¯ï¼Œä¸åº”çº³å…¥ç‰ˆæœ¬æ§åˆ¶ã€‚

### 4. ç³»ç»Ÿæ–‡ä»¶
```
.DS_Store
```
**åŸå› **ï¼šmacOS ç³»ç»Ÿæ–‡ä»¶ï¼Œä¸åº”çº³å…¥ç‰ˆæœ¬æ§åˆ¶ã€‚

### 5. æ•æ„Ÿä¿¡æ¯
```
auth.json
*.key
*.pem
```
**åŸå› **ï¼šåŒ…å«è®¤è¯ä¿¡æ¯ï¼Œç»å¯¹ä¸èƒ½æäº¤åˆ°å…¬å¼€ä»“åº“ã€‚

## ğŸ“‹ Git åˆå§‹åŒ–å»ºè®®

### åˆå§‹åŒ–ä»“åº“
```bash
cd ~/.pi/agent
git init
```

### æ£€æŸ¥çŠ¶æ€
```bash
git status
```

### é¦–æ¬¡æäº¤
```bash
git add .
git commit -m "Initial commit: Pi Agent core configuration and skills"
```

### æ¨é€åˆ°è¿œç¨‹ï¼ˆå¯é€‰ï¼‰
```bash
git remote add origin <your-repo-url>
git branch -M main
git push -u origin main
```

## ğŸ” éªŒè¯ .gitignore ç”Ÿæ•ˆ

### æ£€æŸ¥è¢«å¿½ç•¥çš„æ–‡ä»¶
```bash
git check-ignore -v sessions/
git check-ignore -v pi-session-*.html
git check-ignore -v auth.json
```

### å¼ºåˆ¶æ·»åŠ è¢«å¿½ç•¥çš„æ–‡ä»¶ï¼ˆå¦‚æœéœ€è¦ï¼‰
```bash
git add -f <file>
```

## ğŸ“ˆ ä»“åº“å¤§å°ä¼˜åŒ–

### æ¸…ç†å†å²ä¸­çš„å¤§æ–‡ä»¶ï¼ˆå¦‚æœå·²ç»æäº¤ï¼‰
```bash
# ä½¿ç”¨ BFG Repo-Cleaner æˆ– git filter-repo
# ç¤ºä¾‹ï¼šç§»é™¤ sessions ç›®å½•
git filter-repo --path sessions --invert-paths
```

### æ£€æŸ¥ä»“åº“å¤§å°
```bash
du -sh .git
```

## ğŸ”„ æ—¥å¸¸å·¥ä½œæµ

### æ·»åŠ æ–°æŠ€èƒ½æˆ–é…ç½®
```bash
git add skills/your-new-skill/
git commit -m "Add new skill: [skill-name]"
```

### æ›´æ–°æ–‡æ¡£
```bash
git add docs/
git commit -m "Update documentation"
```

### æ£€æŸ¥æ›´æ”¹
```bash
git status
git diff
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¸è¦æäº¤ auth.json** - åŒ…å«æ•æ„Ÿè®¤è¯ä¿¡æ¯
2. **ä¸è¦æäº¤ sessions/** - ä¼šæ€¥å‰§å¢åŠ ä»“åº“å¤§å°
3. **å®šæœŸæ¸…ç†æœ¬åœ° sessions** - å¯ä»¥ä½¿ç”¨ cron job å®šæœŸæ¸…ç†
4. **ä½¿ç”¨ .gitignore** - é˜²æ­¢æ„å¤–æäº¤ä¸´æ—¶æ–‡ä»¶
5. **æäº¤å‰æ£€æŸ¥** - ä½¿ç”¨ `git status` ç¡®è®¤è¦æäº¤çš„æ–‡ä»¶

## ğŸ“ æ¸…ç†è„šæœ¬ç¤ºä¾‹

åˆ›å»º `cleanup.sh` å®šæœŸæ¸…ç†ä¸´æ—¶æ–‡ä»¶ï¼š
```bash
#!/bin/bash
# æ¸…ç†è¶…è¿‡ 7 å¤©çš„ session æ–‡ä»¶
find sessions/ -type f -name "*.jsonl" -mtime +7 -delete

# æ¸…ç†è¶…è¿‡ 7 å¤©çš„æ—¥å¿—æ–‡ä»¶
find . -name "*.log" -mtime +7 -delete

# æ¸…ç† HTML session æ–‡ä»¶
find . -name "pi-session-*.html" -mtime +7 -delete

echo "Cleanup completed"
```

## ğŸ“ æœ€ä½³å®è·µ

1. **å°è€Œé¢‘ç¹çš„æäº¤** - æ¯æ¬¡æ·»åŠ ä¸€ä¸ªæŠ€èƒ½æˆ–é…ç½®å°±æäº¤
2. **æ¸…æ™°çš„æäº¤ä¿¡æ¯** - æè¿°åšäº†ä»€ä¹ˆæ”¹å˜
3. **ä½¿ç”¨åˆ†æ”¯** - å¼€å‘æ–°åŠŸèƒ½æ—¶ä½¿ç”¨åˆ†æ”¯
4. **å®šæœŸæ¨é€** - é¿å…æœ¬åœ°ç§¯ç´¯å¤ªå¤šæ›´æ”¹
5. **å®¡æŸ¥æ›´æ”¹** - æäº¤å‰æ£€æŸ¥ `git diff`