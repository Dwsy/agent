---
title: å°è£… MCP è½¬ Skill æ“ä½œä¸ºæŠ€èƒ½ï¼ˆuv-managedï¼‰
status: âœ… å·²å®Œæˆ
priority: ğŸŸ  P1
created: 2026-01-07
---

# Issue: å°è£… MCP è½¬ Skill æ“ä½œä¸ºæŠ€èƒ½ï¼ˆuv-managedï¼‰

## å…ƒæ•°æ®

| å­—æ®µ | å†…å®¹ |
|------|------|
| **æ–‡ä»¶å** | 20260107-å°è£… MCP è½¬ Skill æ“ä½œä¸ºæŠ€èƒ½.md |
| **åˆ›å»ºæ—¶é—´** | 2026-01-07 |
| **çŠ¶æ€** | âœ… å·²å®Œæˆ |
| **ä¼˜å…ˆçº§** | ğŸŸ  P1 |
| **é¢„è®¡å·¥æ—¶** | 2h |

## Goal

åˆ›å»ºä¸€ä¸ªå¯å¤ç”¨çš„æŠ€èƒ½ï¼Œç”¨äºå°†ä»»ä½• MCP æœåŠ¡å™¨é…ç½®è½¬æ¢ä¸º Claude Skillï¼Œä½¿ç”¨ uv ç®¡ç† Python ä¾èµ–ï¼Œå®ç°ä¸€é”®è½¬æ¢å’Œå®‰è£…ã€‚

## èƒŒæ™¯/é—®é¢˜

1. æ‰‹åŠ¨è½¬æ¢ MCP åˆ° Skill éœ€è¦å¤šæ­¥éª¤æ“ä½œ
2. ä¾èµ–ç®¡ç†ä½¿ç”¨ pip è¾ƒæ…¢ï¼Œuv å¯ä»¥å¿« 10-100 å€
3. éœ€è¦è‡ªåŠ¨åŒ– introspectã€ç”Ÿæˆæ–‡æ¡£ã€å®‰è£…ä¾èµ–ç­‰æµç¨‹
4. éœ€è¦æ”¯æŒéªŒè¯å’Œæµ‹è¯•ç”Ÿæˆçš„æŠ€èƒ½

## éªŒæ”¶æ ‡å‡† (Acceptance Criteria)

- [x] WHEN ç”¨æˆ·æ‰§è¡Œ `convert` å‘½ä»¤ï¼Œç³»ç»Ÿ SHALL è‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„æŠ€èƒ½ç»“æ„
- [x] WHERE ç”ŸæˆåŒ…å« pyproject.tomlï¼Œç³»ç»Ÿ SHALL ä½¿ç”¨ uv ç®¡ç†ä¾èµ–
- [x] IF æ‰§è¡Œ `validate` å‘½ä»¤ï¼Œç³»ç»Ÿ SHALL éªŒè¯æŠ€èƒ½ç»“æ„å¹¶æµ‹è¯• executor
- [x] WHERE æ‰§è¡Œ `test` å‘½ä»¤ï¼Œç³»ç»Ÿ SHALL æ”¯æŒåˆ—å‡ºå·¥å…·å’ŒæŸ¥çœ‹è¯¦æƒ…

## å®æ–½é˜¶æ®µ

### Phase 1: è§„åˆ’å’Œå‡†å¤‡
- [x] åˆ†æ mcp-to-skill-converter çš„å®ç°æ–¹å¼
- [x] è®¾è®¡ä½¿ç”¨ uv çš„é¡¹ç›®ç»“æ„
- [x] ç¡®å®š CLI å‘½ä»¤æ¥å£

### Phase 2: æ‰§è¡Œ
- [x] åˆ›å»º `templates/` ç›®å½•ï¼ŒåŒ…å« executor.py å’Œ pyproject.toml
- [x] å®ç° `lib.ts` æ ¸å¿ƒè½¬æ¢é€»è¾‘
- [x] å®ç° introspect åŠŸèƒ½ï¼ˆè‡ªåŠ¨è·å–å·¥å…·åˆ—è¡¨ï¼‰
- [x] å®ç° validate å’Œ test å‘½ä»¤
- [x] ä¿®å¤ Python ç‰ˆæœ¬è¦æ±‚ï¼ˆ>=3.10ï¼‰
- [x] ç§»é™¤ä¸å¿…è¦çš„ build-system é…ç½®

### Phase 3: éªŒè¯
- [x] æµ‹è¯•è½¬æ¢ zai-mcp-server
- [x] éªŒè¯ uv sync æˆåŠŸ
- [x] æµ‹è¯• executor.py --list è¿”å› 8 ä¸ªå·¥å…·
- [x] ä½¿ç”¨ tmux éªŒè¯åå°ä»»åŠ¡ä¸é˜»å¡

### Phase 4: äº¤ä»˜
- [x] æ›´æ–° SKILL.md æ–‡æ¡£
- [x] åˆ›å»º README.md
- [x] åˆ›å»º PR

## å…³é”®å†³ç­–

| å†³ç­– | ç†ç”± |
|------|------|
| ä½¿ç”¨ uv è€Œé pip | ä¾èµ–å®‰è£…é€Ÿåº¦å¿« 10-100 å€ï¼Œè‡ªåŠ¨ç®¡ç†è™šæ‹Ÿç¯å¢ƒ |
| ä½¿ç”¨ Bun å®ç° CLI | ä¸ç°æœ‰æŠ€èƒ½ç”Ÿæ€ä¸€è‡´ï¼Œæ”¯æŒå¼‚æ­¥æ“ä½œ |
| è‡ªåŠ¨ introspect | ç”Ÿæˆå‡†ç¡®çš„å·¥å…·åˆ—è¡¨å’Œæ–‡æ¡£ |
| ç®€åŒ– pyproject.toml | ç§»é™¤ä¸å¿…è¦çš„ build-systemï¼Œé¿å…æ„å»ºé”™è¯¯ |
| Python >=3.10 | mcp åŒ…è¦æ±‚ Python 3.10+ |

## é‡åˆ°çš„é”™è¯¯

| æ—¥æœŸ | é”™è¯¯ | è§£å†³æ–¹æ¡ˆ |
|------|------|---------|
| 2026-01-07 | `fs.readFile` is not a function | Bun çš„ fs API ä¸ Node.js ä¸åŒï¼Œæ”¹ç”¨ Node.js å†…ç½® fs |
| 2026-01-07 | Python 3.8 ä¸å…¼å®¹ mcp | mcp è¦æ±‚ Python >=3.10ï¼Œæ›´æ–° requires-python |
| 2026-01-07 | hatchling.build.build_editable å¤±è´¥ | ç§»é™¤ä¸å¿…è¦çš„ build-system é…ç½® |

## ç›¸å…³èµ„æº

- [x] ç›¸å…³æŠ€èƒ½: `~/.pi/agent/skills/mcp-to-skill/`
- [x] å‚è€ƒèµ„æ–™: https://github.com/GBSOSS/-mcp-to-skill-converter
- [x] å‚è€ƒèµ„æ–™: https://astral.sh/uv

## Notes

### æŠ€èƒ½ç»“æ„

```
~/.pi/agent/skills/mcp-to-skill/
â”œâ”€â”€ SKILL.md              # æŠ€èƒ½æ–‡æ¡£
â”œâ”€â”€ README.md             # ä½¿ç”¨è¯´æ˜
â”œâ”€â”€ lib.ts                # æ ¸å¿ƒè½¬æ¢é€»è¾‘
â””â”€â”€ templates/            # æ¨¡æ¿æ–‡ä»¶
    â”œâ”€â”€ executor.py       # Python æ‰§è¡Œå™¨
    â””â”€â”€ pyproject.toml    # uv é¡¹ç›®é…ç½®
```

### ç”Ÿæˆçš„æŠ€èƒ½ç»“æ„

```
~/.claude/skills/{name}/
â”œâ”€â”€ SKILL.md              # è‡ªåŠ¨ç”Ÿæˆçš„æŠ€èƒ½æ–‡æ¡£
â”œâ”€â”€ executor.py           # Python æ‰§è¡Œå™¨
â”œâ”€â”€ pyproject.toml        # uv é¡¹ç›®é…ç½®
â”œâ”€â”€ mcp-config.json       # MCP æœåŠ¡å™¨é…ç½®
â”œâ”€â”€ package.json          # å…ƒæ•°æ®
â””â”€â”€ .venv/                # uv è™šæ‹Ÿç¯å¢ƒ
```

### ä½¿ç”¨ç¤ºä¾‹

```bash
# è½¬æ¢ MCP é…ç½®
bun ~/.pi/agent/skills/mcp-to-skill/lib.ts convert my-mcp.json

# éªŒè¯æŠ€èƒ½
bun ~/.pi/agent/skills/mcp-to-skill/lib.ts validate ~/.claude/skills/my-mcp

# æµ‹è¯•æŠ€èƒ½
bun ~/.pi/agent/skills/mcp-to-skill/lib.ts test ~/.claude/skills/my-mcp --list
```

### MCP Config æ ¼å¼

```json
{
  "name": "my-mcp",
  "command": "npx",
  "args": ["@example/mcp-server"],
  "env": {
    "API_KEY": "your-key"
  }
}
```

### æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | pip | uv | æå‡ |
|------|-----|-----|------|
| ä¾èµ–å®‰è£… | 10s+ | <1s | 10x+ |
| è™šæ‹Ÿç¯å¢ƒ | æ‰‹åŠ¨ | è‡ªåŠ¨ | - |
| ä¾èµ–è§£æ | æ…¢ | å¿« | 5x+ |

---

## Status æ›´æ–°æ—¥å¿—

- **2026-01-07 15:57**: çŠ¶æ€å˜æ›´ â†’ âœ… å·²å®Œæˆï¼Œå¤‡æ³¨: uv ç®¡ç†ç‰ˆæœ¬æµ‹è¯•é€šè¿‡
- **2026-01-07 15:54**: çŠ¶æ€å˜æ›´ â†’ ğŸš§ è¿›è¡Œä¸­ï¼Œå¤‡æ³¨: ä¿®å¤ Python ç‰ˆæœ¬è¦æ±‚
- **2026-01-07 15:52**: çŠ¶æ€å˜æ›´ â†’ ğŸš§ è¿›è¡Œä¸­ï¼Œå¤‡æ³¨: å®ç°æ ¸å¿ƒè½¬æ¢é€»è¾‘
- **2026-01-07 15:50**: çŠ¶æ€å˜æ›´ â†’ ğŸ“ å¾…åŠï¼Œå¤‡æ³¨: åˆ›å»º Issue