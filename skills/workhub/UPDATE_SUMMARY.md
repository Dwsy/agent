# Workhub æŠ€èƒ½æ›´æ–°æ€»ç»“

**æ—¥æœŸ**: 2025-01-09  
**ç‰ˆæœ¬**: v2.0  
**æ›´æ–°ç±»å‹**: åŠŸèƒ½å¢å¼º + ä¼˜åŒ–

---

## ğŸ“‹ æ›´æ–°æ¦‚è¿°

æœ¬æ¬¡æ›´æ–°ä¸º workhub æŠ€èƒ½æ·»åŠ äº† YAML front matter å…ƒæ•°æ®æ”¯æŒï¼Œå¹¶ä¼˜åŒ–äº†æ¨¡æ¿ç»“æ„ï¼Œç§»é™¤äº†å†—ä½™ä¿¡æ¯ã€‚

---

## âœ¨ æ–°åŠŸèƒ½

### 1. YAML Front Matter å…ƒæ•°æ®

æ‰€æœ‰ Issue å’Œ PR æ–‡ä»¶ç°åœ¨åœ¨é¡¶éƒ¨åŒ…å«è¯¦ç»†çš„ YAML front matterï¼ŒåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

#### Issue å…ƒæ•°æ®å­—æ®µ

| åˆ†ç±» | å­—æ®µ | è¯´æ˜ |
|------|------|------|
| **åŸºç¡€ä¿¡æ¯** | id, title, type, status, priority, labels | å”¯ä¸€æ ‡è¯†ã€æ ‡é¢˜ã€ç±»å‹ã€çŠ¶æ€ã€ä¼˜å…ˆçº§ã€æ ‡ç­¾ |
| **æ—¶é—´ä¿¡æ¯** | created, updated, due_date, estimated_hours | åˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´ã€æˆªæ­¢æ—¥æœŸã€é¢„ä¼°å·¥æ—¶ |
| **äººå‘˜ä¿¡æ¯** | assignees, reviewers, reporter, contributors | è´Ÿè´£äººã€å®¡æŸ¥äººã€æŠ¥å‘Šäººã€è´¡çŒ®è€… |
| **åˆ†ç±»å’Œå…³è”** | category, tags, related_issues, blocked_by, blocks | åˆ†ç±»ã€æ ‡ç­¾ã€ç›¸å…³ Issueã€é˜»å¡å…³ç³» |
| **ä¸šåŠ¡ä¿¡æ¯** | project, milestone, sprint, story_points | é¡¹ç›®ã€é‡Œç¨‹ç¢‘ã€è¿­ä»£å‘¨æœŸã€æ•…äº‹ç‚¹æ•° |
| **æŠ€æœ¯ä¿¡æ¯** | complexity, effort, risk_level, dependencies | å¤æ‚åº¦ã€å·¥ä½œé‡ã€é£é™©çº§åˆ«ã€ä¾èµ–é¡¹ |
| **æŒ‡æ ‡** | created_by_ai, last_updated_by_ai, version | AI åˆ›å»ºæ ‡è®°ã€ç‰ˆæœ¬å· |

#### PR å…ƒæ•°æ®å­—æ®µ

| åˆ†ç±» | å­—æ®µ | è¯´æ˜ |
|------|------|------|
| **åŸºç¡€ä¿¡æ¯** | id, title, type, status, labels | å”¯ä¸€æ ‡è¯†ã€æ ‡é¢˜ã€ç±»å‹ã€çŠ¶æ€ã€æ ‡ç­¾ |
| **æ—¶é—´ä¿¡æ¯** | created, updated, merged_at, closed_at | åˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´ã€åˆå¹¶æ—¶é—´ã€å…³é—­æ—¶é—´ |
| **äººå‘˜ä¿¡æ¯** | author, reviewers, assignees | ä½œè€…ã€å®¡æŸ¥äººã€è´Ÿè´£äºº |
| **åˆ†ç±»å’Œå…³è”** | category, tags, related_prs, related_issues, branch_from, branch_to | åˆ†ç±»ã€æ ‡ç­¾ã€å…³è”å…³ç³»ã€åˆ†æ”¯ä¿¡æ¯ |
| **ä¸šåŠ¡ä¿¡æ¯** | project, milestone, linked_issues | é¡¹ç›®ã€é‡Œç¨‹ç¢‘ã€é“¾æ¥ Issue |
| **æŠ€æœ¯ä¿¡æ¯** | change_type, size, complexity, risk_level | å˜æ›´ç±»å‹ã€è§„æ¨¡ã€å¤æ‚åº¦ã€é£é™©çº§åˆ« |
| **æŒ‡æ ‡** | created_by_ai, last_updated_by_ai, version, files_changed, additions, deletions, commits | AI åˆ›å»ºæ ‡è®°ã€ç‰ˆæœ¬å·ã€ä»£ç å˜æ›´ç»Ÿè®¡ |

### 2. åŠ¨æ€å ä½ç¬¦æ›¿æ¢

æ¨¡æ¿æ”¯æŒä»¥ä¸‹å ä½ç¬¦ï¼Œåœ¨åˆ›å»ºæ–‡ä»¶æ—¶è‡ªåŠ¨æ›¿æ¢ï¼š

- `{{date}}`: å½“å‰æ—¥æœŸ (æ ¼å¼: yyyy-mm-dd)
- `{{description}}`: æ–‡ä»¶æè¿°
- `{{category}}`: åˆ†ç±»ï¼ˆå‰ç«¯/åç«¯/æ•°æ®åº“/è¿ç»´ç­‰ï¼‰

### 3. è‡ªåŠ¨ç”Ÿæˆå­—æ®µ

ä»¥ä¸‹å­—æ®µç”±ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆï¼Œæ— éœ€æ‰‹åŠ¨å¡«å†™ï¼š

- `id`: å”¯ä¸€æ ‡è¯† (æ ¼å¼: yyyy-mm-dd-æè¿°)
- `created`: åˆ›å»ºæ—¶é—´
- `updated`: æ›´æ–°æ—¶é—´
- `labels`: è‡ªåŠ¨ç”Ÿæˆçš„æ ‡ç­¾åˆ—è¡¨
- `category`: è‡ªåŠ¨æ·»åŠ åˆ†ç±»æ ‡ç­¾
- `tags`: è‡ªåŠ¨æ·»åŠ æè¿°æ ‡ç­¾
- `created_by_ai`: AI åˆ›å»ºæ ‡è®°
- `last_updated_by_ai`: AI æ›´æ–°æ ‡è®°
- `version`: ç‰ˆæœ¬å·

---

## ğŸ¯ ä¼˜åŒ–å†…å®¹

### 1. ç®€åŒ–æ¨¡æ¿ç»“æ„

ç§»é™¤äº† Issue å’Œ PR æ¨¡æ¿ä¸­ä¸ YAML front matter é‡å¤çš„å…ƒæ•°æ®è¡¨æ ¼ï¼š

- âŒ ç§»é™¤ Issue çš„"å…ƒæ•°æ®"è¡¨æ ¼ï¼ˆæ–‡ä»¶åã€åˆ›å»ºæ—¶é—´ã€çŠ¶æ€ã€ä¼˜å…ˆçº§ã€è´Ÿè´£äººã€é¢„è®¡å·¥æ—¶ï¼‰
- âŒ ç§»é™¤ PR çš„"å…ƒæ•°æ®"è¡¨æ ¼ï¼ˆæ–‡ä»¶åã€åˆ›å»ºæ—¶é—´ã€çŠ¶æ€ã€ç±»å‹ã€å®¡æŸ¥äººï¼‰

è¿™äº›ä¿¡æ¯ç°åœ¨ç»Ÿä¸€åœ¨ YAML front matter ä¸­ç®¡ç†ï¼Œéµå¾ª SSOT åŸåˆ™ã€‚

### 2. ä¿æŒæ ¸å¿ƒå†…å®¹

ä¿ç•™äº†ä»¥ä¸‹å…³é”®å†…å®¹éƒ¨åˆ†ï¼š

#### Issue ä¿ç•™å†…å®¹
- Goalï¼ˆç›®æ ‡ï¼‰
- èƒŒæ™¯/é—®é¢˜
- éªŒæ”¶æ ‡å‡†
- å®æ–½é˜¶æ®µ
- å…³é”®å†³ç­–
- é‡åˆ°çš„é”™è¯¯
- ç›¸å…³èµ„æº
- Notes
- Status æ›´æ–°æ—¥å¿—

#### PR ä¿ç•™å†…å®¹
- èƒŒæ™¯ä¸ç›®çš„
- å˜æ›´å†…å®¹æ¦‚è¿°
- å…³è” Issue ä¸ ToDo æ¡ç›®
- æµ‹è¯•ä¸éªŒè¯ç»“æœ
- é£é™©ä¸å½±å“è¯„ä¼°
- å›æ»šæ–¹æ¡ˆ
- å˜æ›´ç±»å‹
- æ–‡ä»¶å˜æ›´åˆ—è¡¨
- è¯¦ç»†å˜æ›´è¯´æ˜
- æµ‹è¯•å‘½ä»¤å’Œè¾“å‡º
- ç ´åæ€§å˜æ›´
- æ€§èƒ½å½±å“
- ä¾èµ–å˜æ›´
- å®‰å…¨è€ƒè™‘
- æ–‡æ¡£å˜æ›´
- ä»£ç å®¡æŸ¥æ£€æŸ¥æ¸…å•
- å®¡æŸ¥æ—¥å¿—
- æœ€ç»ˆçŠ¶æ€

---

## ğŸš€ ä½¿ç”¨æ–¹å¼

### åˆ›å»º Issue

```bash
# åŸºæœ¬ç”¨æ³•
bun ~/.pi/agent/skills/workhub/lib.ts create issue "æ·»åŠ æ·±è‰²æ¨¡å¼"

# å¸¦åˆ†ç±»
bun ~/.pi/agent/skills/workhub/lib.ts create issue "æ·»åŠ æ·±è‰²æ¨¡å¼" å‰ç«¯
```

ç”Ÿæˆçš„æ–‡ä»¶åŒ…å«ï¼š

```yaml
---
# åŸºç¡€ä¿¡æ¯
id: "2025-01-09-æ·»åŠ æ·±è‰²æ¨¡å¼"
title: "[æ ‡é¢˜]"
type: "task"
status: "todo"
priority: "medium"
labels:
  - "area:å‰ç«¯"
  - "type:task"
  - "status:todo"

# æ—¶é—´ä¿¡æ¯
created: "2025-01-09"
updated: "2025-01-09"
due_date: ""
estimated_hours: ""

# ... å…¶ä»–å…ƒæ•°æ®
---
```

### åˆ›å»º PR

```bash
# åŸºæœ¬ç”¨æ³•
bun ~/.pi/agent/skills/workhub/lib.ts create pr "ä¿®å¤ç™»å½•bug"

# å¸¦åˆ†ç±»
bun ~/.pi/agent/skills/workhub/lib.ts create pr "ä¿®å¤ç™»å½•bug" åç«¯
```

ç”Ÿæˆçš„æ–‡ä»¶åŒ…å«ï¼š

```yaml
---
# åŸºç¡€ä¿¡æ¯
id: "2025-01-09-ä¿®å¤ç™»å½•bug"
title: "[Pull Request æ ‡é¢˜]"
type: "change"
status: "draft"
labels:
  - "area:åç«¯"
  - "type:change"
  - "status:draft"

# æ—¶é—´ä¿¡æ¯
created: "2025-01-09"
updated: "2025-01-09"
merged_at: ""
closed_at: ""

# ... å…¶ä»–å…ƒæ•°æ®
---
```

---

## ğŸ“Š AI ç´¢å¼•ä¼˜åŠ¿

æ·»åŠ  YAML front matter åï¼ŒAI å¯ä»¥ï¼š

1. **å¿«é€Ÿæ£€ç´¢**ï¼šé€šè¿‡æ ‡ç­¾ã€ç±»å‹ã€çŠ¶æ€ã€ä¼˜å…ˆçº§ç­‰å­—æ®µå¿«é€Ÿè¿‡æ»¤
2. **æ™ºèƒ½å…³è”**ï¼šè‡ªåŠ¨è¯†åˆ«ç›¸å…³ Issue å’Œ PR ä¹‹é—´çš„ä¾èµ–å…³ç³»
3. **ç»Ÿè®¡åˆ†æ**ï¼šæŒ‰æ—¶é—´ã€åˆ†ç±»ã€çŠ¶æ€ç­‰ç»´åº¦ç”ŸæˆæŠ¥å‘Š
4. **è‡ªåŠ¨åŒ–æµç¨‹**ï¼šæ ¹æ®çŠ¶æ€è‡ªåŠ¨è§¦å‘åç»­æµç¨‹
5. **çŸ¥è¯†ç®¡ç†**ï¼šæ„å»ºç»“æ„åŒ–çš„é¡¹ç›®çŸ¥è¯†åº“

### ç¤ºä¾‹æŸ¥è¯¢

```bash
# æŸ¥æ‰¾æ‰€æœ‰é«˜ä¼˜å…ˆçº§çš„ Issue
# æŸ¥è¯¢: priority: "critical" OR priority: "high"

# æŸ¥æ‰¾æ‰€æœ‰è¿›è¡Œä¸­çš„å‰ç«¯ä»»åŠ¡
# æŸ¥è¯¢: category: "å‰ç«¯" AND status: "in-progress"

# æŸ¥æ‰¾æ‰€æœ‰å·²åˆå¹¶çš„ PR
# æŸ¥è¯¢: status: "merged"

# æŸ¥æ‰¾è¢«é˜»å¡çš„ Issue
# æŸ¥è¯¢: blocked_by.length > 0

# æŸ¥æ‰¾æŸä¸ªä½œè€…çš„æ‰€æœ‰ PR
# æŸ¥è¯¢: author: "John Doe"
```

---

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. åŠ¨æ€æ—¥æœŸç”Ÿæˆ

```typescript
function getCurrentDateString(): string {
  const now = new Date();
  const year = now.getFullYear();
  const month = String(now.getMonth() + 1).padStart(2, "0");
  const day = String(now.getDate()).padStart(2, "0");
  return `${year}${month}${day}`;
}

function getISODateString(): string {
  const now = new Date();
  const year = now.getFullYear();
  const month = String(now.getMonth() + 1).padStart(2, "0");
  const day = String(now.getDate()).padStart(2, "0");
  return `${year}-${month}-${day}`;
}
```

### 2. å ä½ç¬¦æ›¿æ¢

```typescript
function replaceTemplatePlaceholders(
  content: string, 
  date: string, 
  description: string, 
  category?: string
): string {
  return content
    .replace(/{{date}}/g, date)
    .replace(/{{description}}/g, description || "description")
    .replace(/{{category}}/g, category || "general");
}
```

### 3. æ–‡ä»¶åˆ›å»ºæµç¨‹

1. ç”Ÿæˆæ–‡ä»¶åï¼ˆä½¿ç”¨ `getCurrentDateString()`ï¼‰
2. è¯»å–æ¨¡æ¿æ–‡ä»¶
3. æ›¿æ¢å ä½ç¬¦ï¼ˆä½¿ç”¨ `replaceTemplatePlaceholders()`ï¼‰
4. å†™å…¥ç›®æ ‡æ–‡ä»¶

---

## ğŸ“ æ–‡ä»¶å˜æ›´

### æ›´æ–°çš„æ–‡ä»¶

1. **`~/.pi/agent/skills/workhub/lib.ts`**
   - æ·»åŠ æ—¥æœŸç”Ÿæˆå‡½æ•°
   - æ·»åŠ å ä½ç¬¦æ›¿æ¢å‡½æ•°
   - æ›´æ–° `createIssue()` å‡½æ•°ä»¥æ”¯æŒåŠ¨æ€æ›¿æ¢
   - æ›´æ–° `createPR()` å‡½æ•°ä»¥æ”¯æŒåŠ¨æ€æ›¿æ¢

2. **`~/.pi/agent/skills/workhub/templates/issue-template.md`**
   - æ·»åŠ  YAML front matter
   - ç§»é™¤å†—ä½™çš„å…ƒæ•°æ®è¡¨æ ¼

3. **`~/.pi/agent/skills/workhub/templates/pr-template.md`**
   - æ·»åŠ  YAML front matter
   - ç§»é™¤å†—ä½™çš„å…ƒæ•°æ®è¡¨æ ¼

4. **`~/.pi/agent/skills/workhub/SKILL.md`**
   - æ·»åŠ  YAML front matter å­—æ®µè¯´æ˜
   - æ·»åŠ  AI ç´¢å¼•ä¼˜åŠ¿è¯´æ˜
   - æ›´æ–°æ¨¡æ¿ç»“æ„ç¤ºä¾‹

### å¤‡ä»½æ–‡ä»¶

- **`~/.pi/agent/skills/workhub/lib.ts.backup`**: åŸå§‹ lib.ts æ–‡ä»¶å¤‡ä»½

---

## âœ… æµ‹è¯•éªŒè¯

### æµ‹è¯•ç¯å¢ƒ

- ä¸´æ—¶ç›®å½•: `/tmp/test-workhub`
- æµ‹è¯•å‘½ä»¤: ä½¿ç”¨ `bun` è¿è¡Œ TypeScript

### æµ‹è¯•ç»“æœ

1. âœ… åˆå§‹åŒ–æ–‡æ¡£ç»“æ„æˆåŠŸ
2. âœ… åˆ›å»º Issue æˆåŠŸï¼ŒYAML front matter æ­£ç¡®ç”Ÿæˆ
3. âœ… åˆ›å»º PR æˆåŠŸï¼ŒYAML front matter æ­£ç¡®ç”Ÿæˆ
4. âœ… å ä½ç¬¦æ›¿æ¢æ­£ç¡®ï¼ˆæ—¥æœŸã€æè¿°ã€åˆ†ç±»ï¼‰
5. âœ… è‡ªåŠ¨ç”Ÿæˆæ ‡ç­¾æ­£ç¡®
6. âœ… æ¨¡æ¿ç®€åŒ–æˆåŠŸï¼Œç§»é™¤å†—ä½™å†…å®¹

---

## ğŸ”„ å‘åå…¼å®¹æ€§

### å…¼å®¹æ€§è¯´æ˜

- âœ… å®Œå…¨å‘åå…¼å®¹
- âœ… ç°æœ‰çš„ Issue å’Œ PR æ–‡ä»¶ä»ç„¶å¯ä»¥æ­£å¸¸ä½¿ç”¨
- âœ… æ–°åˆ›å»ºçš„æ–‡ä»¶è‡ªåŠ¨ä½¿ç”¨æ–°çš„ YAML front matter
- âœ… æ—§çš„æ–‡ä»¶å¯ä»¥æ‰‹åŠ¨æ·»åŠ  YAML front matterï¼ˆå¯é€‰ï¼‰

### è¿ç§»å»ºè®®

å¯¹äºç°æœ‰çš„ Issue å’Œ PR æ–‡ä»¶ï¼Œå¯ä»¥é€‰æ‹©ï¼š

1. **ä¿æŒåŸæ ·**ï¼šæ—§æ–‡ä»¶ç»§ç»­ä½¿ç”¨æ—§æ ¼å¼
2. **æ‰‹åŠ¨è¿ç§»**ï¼šåœ¨æ—§æ–‡ä»¶é¡¶éƒ¨æ·»åŠ  YAML front matter
3. **é€æ­¥è¿ç§»**ï¼šåˆ›å»ºæ–°æ–‡ä»¶æ—¶è‡ªåŠ¨ä½¿ç”¨æ–°æ ¼å¼ï¼Œæ—§æ–‡ä»¶åœ¨ç¼–è¾‘æ—¶è¿ç§»

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **`~/.pi/agent/skills/workhub/SKILL.md`**: å®Œæ•´çš„æŠ€èƒ½æ–‡æ¡£
- **`~/.pi/agent/skills/workhub/templates/issue-template.md`**: Issue æ¨¡æ¿
- **`~/.pi/agent/skills/workhub/templates/pr-template.md`**: PR æ¨¡æ¿
- **`~/.pi/agent/skills/workhub/lib.ts`**: ä¸»è„šæœ¬æ–‡ä»¶

---

## ğŸ‰ æ€»ç»“

æœ¬æ¬¡æ›´æ–°æ˜¾è‘—æå‡äº† workhub æŠ€èƒ½çš„åŠŸèƒ½æ€§å’Œå¯ç”¨æ€§ï¼š

1. **ç»“æ„åŒ–å…ƒæ•°æ®**ï¼šé€šè¿‡ YAML front matter æä¾›ä¸°å¯Œçš„å…ƒæ•°æ®æ”¯æŒ
2. **AI ç´¢å¼•ä¼˜åŒ–**ï¼šä¾¿äº AI å¿«é€Ÿæ£€ç´¢ã€å…³è”å’Œç»Ÿè®¡åˆ†æ
3. **æ¨¡æ¿ç®€åŒ–**ï¼šç§»é™¤å†—ä½™å†…å®¹ï¼Œéµå¾ª SSOT åŸåˆ™
4. **åŠ¨æ€ç”Ÿæˆ**ï¼šè‡ªåŠ¨å¡«å……æ—¶é—´ã€æ ‡ç­¾ç­‰å­—æ®µï¼Œå‡å°‘æ‰‹åŠ¨è¾“å…¥
5. **å‘åå…¼å®¹**ï¼šä¸å½±å“ç°æœ‰æ–‡ä»¶çš„ä½¿ç”¨

è¿™äº›æ”¹è¿›ä½¿å¾— workhub æ›´é€‚åˆä½œä¸ºé¡¹ç›®æ–‡æ¡£ç®¡ç†å’Œä»»åŠ¡è·Ÿè¸ªçš„å·¥å…·ï¼Œç‰¹åˆ«æ˜¯åœ¨ AI è¾…åŠ©å¼€å‘çš„åœºæ™¯ä¸‹ã€‚